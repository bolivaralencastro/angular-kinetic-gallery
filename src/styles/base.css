@import './tokens.css';

*, *::before, *::after {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  min-height: 100%;
  background-color: var(--color-bg-canvas, var(--surface-body));
  color: var(--color-fg-canvas, var(--text-body));
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  transition: background-color 200ms ease, color 200ms ease;
}

body.app-shell {
  background-color: var(--color-bg-canvas, var(--surface-body));
  color: var(--color-fg-canvas, var(--text-body));
  overflow: hidden;
  position: relative;
}

body.app-shell::before {
  content: '';
  position: fixed;
  inset: -50%;
  width: 200%;
  height: 200%;
  background-image: var(--texture-noise-image);
  background-repeat: repeat;
  background-size: var(--texture-noise-size);
  opacity: var(--texture-noise-opacity);
  animation: noise-animation var(--texture-noise-speed) steps(5) infinite;
  will-change: transform;
  z-index: 100;
  pointer-events: none;
  mix-blend-mode: var(--texture-noise-blend-mode);
}

body[data-theme='dark'] {
  color-scheme: dark;
}

body[data-theme='light'] {
  color-scheme: light;
}

[data-theme] .bg-black {
  background-color: var(--surface-neutral-strong) !important;
}

[data-theme] .bg-black\/60 {
  background-color: var(--surface-neutral-60) !important;
}

[data-theme] .bg-black\/50 {
  background-color: var(--surface-neutral-50) !important;
}

[data-theme] .bg-black\/40 {
  background-color: var(--surface-neutral-40) !important;
}

[data-theme] .bg-zinc-900\/60 {
  background-color: var(--surface-zinc-900-60) !important;
}

[data-theme] .bg-\[\#1a1a1a\] {
  background-color: var(--surface-muted) !important;
}

[data-theme] .bg-white\/10 {
  background-color: var(--surface-overlay-10) !important;
}

[data-theme] .bg-white\/20 {
  background-color: var(--surface-overlay-20) !important;
}

[data-theme] .bg-gray-700 {
  background-color: var(--surface-slate-700) !important;
  color: var(--surface-slate-700-text) !important;
}

[data-theme] .text-white {
  color: var(--text-inverse) !important;
}

[data-theme] .text-white\/90 {
  color: var(--text-inverse-90) !important;
}

[data-theme] .text-gray-200 {
  color: var(--text-gray-200) !important;
}

[data-theme] .text-gray-300 {
  color: var(--text-gray-300) !important;
}

[data-theme] .text-gray-400 {
  color: var(--text-gray-400) !important;
}

[data-theme] .text-gray-500 {
  color: var(--text-gray-500) !important;
}

[data-theme] .text-white\/70 {
  color: var(--text-inverse-70) !important;
}

[data-theme] .border-white\/10 {
  border-color: var(--border-overlay-10) !important;
}

[data-theme] .shadow-black\/40 {
  --tw-shadow-color: var(--shadow-strong) !important;
}

[data-theme] .custom-cursor {
  display: none;
}

body,
[data-theme] [data-cursor-pointer] {
  cursor: auto;
}

@keyframes noise-animation {
  0% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-2%, -3%);
  }
  20% {
    transform: translate(-4%, 2%);
  }
  30% {
    transform: translate(2%, -4%);
  }
  40% {
    transform: translate(-2%, 5%);
  }
  50% {
    transform: translate(-4%, 2%);
  }
  60% {
    transform: translate(3%, 0);
  }
  70% {
    transform: translate(0, 3%);
  }
  80% {
    transform: translate(-3%, 0);
  }
  90% {
    transform: translate(2%, 2%);
  }
  100% {
    transform: translate(1%, 0);
  }
}

@media (pointer: fine) {
  body,
  [data-theme] [data-cursor-pointer] {
    cursor: none;
  }

  [data-theme] .custom-cursor {
    display: block;
    position: fixed;
    left: 0;
    top: 0;
    z-index: 100000;
    pointer-events: none;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background-color: var(--cursor-accent);
    mix-blend-mode: difference;
    transition: width 0.4s, height 0.4s, border-radius 0.4s, opacity 0.3s;
    transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);
    opacity: 1;
    will-change: transform, width, height;
    transform: translate(-50%, -50%);
  }

  [data-theme] .custom-cursor.pointer-hover {
    width: 40px;
    height: 40px;
    border-radius: 8px;
  }

  body[data-theme].custom-cursor-hidden .custom-cursor {
    opacity: 0;
  }
}
